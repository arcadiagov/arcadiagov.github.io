<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Secure Diplomatic Channel</title>
  <style>
    body {
      margin: 0;
      background-color: #000;
      color: #fff;
      font-family: 'Courier New', Courier, monospace;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #authBox {
      background-color: #111;
      padding: 40px;
      border: 2px solid crimson;
      border-radius: 12px;
      box-shadow: 0 0 20px crimson;
      text-align: center;
    }

    #authBox h1 {
      color: crimson;
      font-size: 24px;
      margin-bottom: 20px;
    }

    #passwordInput {
      padding: 12px;
      width: 250px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
    }

    #submitBtn {
      background-color: crimson;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
    }

    #chatContainer {
      display: none;
      width: 100vw;
      height: 100vh;
    }

    #chatBox {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<div id="authBox">
  <h1>CLASSIFIED â€” SECURE CHANNEL</h1>
  <input type="password" id="passwordInput" placeholder="Enter diplomatic passcode">
  <br>
  <button id="submitBtn" onclick="checkPassword()">Unlock</button>
</div>

<div id="chatContainer">
  <div id="chatBox">
    <script id="cid0020000408228575178" data-cfasync="false" async
      src="https://st.chatango.com/js/gz/emb.js"
      style="width: 100%; height: 100%;">
      {"handle":"democracyarc","arch":"js","styles":{"a":"CC0000","b":100,"c":"FFFFFF","d":"FFFFFF","k":"CC0000","l":"CC0000","m":"CC0000","n":"FFFFFF","p":"10","q":"CC0000","r":100,"usricon":1.3,"surl":0,"allowpm":0,"cnrs":"1","fwtickm":1}}
    </script>
  </div>
</div>

<script>
  function checkPassword() {
    const input = document.getElementById('passwordInput').value;
    if (input === 'Freedom2025!') {
      document.getElementById('authBox').style.display = 'none';
      document.getElementById('chatContainer').style.display = 'block';
    } else {
      alert('Incorrect password. This channel is restricted.');
    }
  }
</script>
<p style="margin-top: 20px; font-size: 14px; color: #aaa; text-align: center;">
    Clearance verified. Timestamp: 
    <script>
        const options = {
            timeZone: 'America/Moncton',
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: false
        };
        document.write(new Intl.DateTimeFormat('en-CA', options).format(new Date()));
    </script>
    (NB Time)
    <br>
    <span id="location" style="color: #ccc;">Detecting location...</span>
    <script>
        fetch('https://ipinfo.io/json?token=d3b88b5fb748da')
            .then(response => response.json())
            .then(data => {
                const loc = `${data.city}, ${data.region}, ${data.country}`;
                document.getElementById('location').innerText = `Accessed from: ${loc}`;
            })
            .catch(() => {
                document.getElementById('location').innerText = 'Location: Unavailable';
            });
    </script>
</p>

</body>
</html>
